(()=>{"use strict";var t={168:function(){var t,e,r,a,n=this&&this.__classPrivateFieldSet||function(t,e,r,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(t,r):n?n.value=r:e.set(t,r),r},s=this&&this.__classPrivateFieldGet||function(t,e,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(t):a?a.value:e.get(t)};const i=document.createElement("template");i.innerHTML='\n<style>\n.tag-bagde {\n    background-color: var(--bg-color, #444);\n    color: var(--text-color, #fff);\n}\n</style>\n<span class="tag-bagde"><slot name="text"></span>\n<button>X</button>';class o extends HTMLElement{static get observedAttributes(){return["value","editable"]}constructor(){super(),t.set(this,""),e.set(this,!1),r.set(this,void 0),a.set(this,void 0),this.onButtonClick=()=>{this.dispatchEvent(new CustomEvent("remove",{bubbles:!0,detail:{value:s(this,t,"f")}}))},n(this,r,this.attachShadow({mode:"closed"}),"f"),s(this,r,"f").appendChild(i.content.cloneNode(!0)),n(this,a,s(this,r,"f").querySelector("button"),"f"),this.value=this.getAttribute("value")??"",this.editable="true"===this.getAttribute("editable"),s(this,e,"f")||s(this,a,"f").remove()}get value(){return s(this,t,"f")}set value(e){n(this,t,String(e),"f"),this.setAttribute("value",s(this,t,"f"))}get editable(){return s(this,e,"f")}set editable(t){n(this,e,t,"f"),this.setAttribute("editable",String(s(this,e,"f"))),s(this,e,"f")?s(this,r,"f").append(s(this,a,"f")):s(this,a,"f").remove()}attributeChangedCallback(t,e,r){if(r!==e)switch(t){case"editable":this.editable="true"===r;break;case"value":this.value=r}}}t=new WeakMap,e=new WeakMap,r=new WeakMap,a=new WeakMap,customElements.define("tag-badge",o),document.createElement("tag-badge")}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,r),s.exports}(()=>{r(168);var t;class e{constructor(e){t.set(this,void 0),function(t,e,r,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===a?n.call(t,r):n?n.value=r:e.set(t,r)}(this,t,e,"f")}get routeState(){return function(t,e,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(t):a?a.value:e.get(t)}(this,t,"f")}onRender(){}onDestroy(){}}t=new WeakMap;var a,n=function(t,e,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(t):a?a.value:e.get(t)};a=new WeakMap;class s extends String{}var i,o,c,l,h,u,d,f,p,w,v,m,g=function(t,e,r,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(t,r):n?n.value=r:e.set(t,r),r},b=function(t,e,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(t):a?a.value:e.get(t)};function y(t){return"function"==typeof t&&/^class /.test(t.toString())}o=new WeakMap,c=new WeakMap,l=new WeakMap,h=new WeakMap,u=new WeakMap,i=new WeakSet,d=function(t){for(const[e,r]of b(this,o,"f")){const a=e.exec(t);if(a)return[r,a.groups??null]}return[null,null]},f=async function(t,e,r){const a={url:new URL(t,location.origin).toString(),params:r,resolvedData:null},n=await b(this,i,"m",p).call(this,e,a);if(n){if(n instanceof s)return this.navigate(n.toString());if(a.resolvedData=await b(this,i,"m",m).call(this,e,a),e.redirectTo)return this.navigate(e.redirectTo);if(e.page){const t=new e.page(a),r=t.render();b(this,h,"f").replaceChildren(r),b(this,u,"f")?.onDestroy(),g(this,u,t,"f"),b(this,h,"f").replaceChildren(r),b(this,u,"f")?.onRender(),history.pushState({},"",a.url)}}},p=async function({guards:t},e){if(!t||!t.length)return!0;for(const r of t){const t=await b(this,i,"m",w).call(this,r,e);if(!0!==t)return t}return!0},w=function(t,e){return y(t)?(b(this,c,"f").has(t)||b(this,c,"f").set(t,new t),b(this,c,"f").get(t).canActivate(e)):t(e)},v=async function(t,e){return y(t)?(b(this,l,"f").has(t)||b(this,l,"f").set(t,new t),b(this,l,"f").get(t).resolve(e)):t(e)},m=async function({resolve:t},e){return t?Promise.all(Object.entries(t).map((([t,r])=>b(this,i,"m",v).call(this,r,e).then((e=>[t,e]))))).then((t=>Object.fromEntries(t))):null};const E=document.getElementById("routerOutlet"),T=new class{constructor(t,e){i.add(this),o.set(this,new Map),c.set(this,new WeakMap),l.set(this,new WeakMap),h.set(this,void 0),u.set(this,null),g(this,h,t,"f"),e.forEach((t=>{var e;b(this,o,"f").set((e=t.path,new RegExp("/"+e.replace(/:([A-z\d_-]+)/g,((t,e)=>`(?<${e}>[^?/]+)`))+"$")),t)}))}navigate(t){const e=(r=location.pathname,/^\//.test(a=t)?a:"/"+[r,"/",a].join("").split(/\/+/).reduce(((t,e)=>("."===e||(".."===e?t.pop():e&&t.push(e)),t)),[]).join("/"));var r,a;const[n,s]=b(this,i,"m",d).call(this,e);n&&b(this,i,"m",f).call(this,e,n,s??{})}start(){this.navigate(location.pathname)}}(E,[{path:"",redirectTo:"/products"},{path:"cart",page:class extends e{render(){const t=document.createElement("div");return t.textContent="Cart",t}}},{path:"history",page:class extends e{render(){const t=document.createElement("div");return t.textContent="History",t}}},{path:"products",page:class extends e{constructor(){super(...arguments),a.set(this,(()=>{alert("Hello")}))}render(){const t=document.createElement("div");return t.textContent=`Products: ${JSON.stringify(this.routeState.resolvedData?.productList,null,2)}`,t}onRender(){document.addEventListener("click",n(this,a,"f"))}onDestroy(){document.removeEventListener("click",n(this,a,"f"))}},resolve:{productList:()=>new Promise((t=>{setTimeout((()=>{t([{id:1,title:"foo"},{id:2,title:"bar"}])}),1e3)}))}},{path:"products/:productId",page:class extends e{render(){const t=document.createElement("div");return t.textContent=`Product: ${this.routeState.params.productId}`,t}}}]);T.start(),document.addEventListener("click",(t=>{const e=t.target.closest('a[data-router="true"]');if(e){const r=new URL(e.href).pathname;t.preventDefault(),T.navigate(r)}}))})()})();
//# sourceMappingURL=main.ca82e934f353846fde69.js.map